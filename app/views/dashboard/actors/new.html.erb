<div class="modal-header">
  <h3 class="modal-title" id="modal-label">
    <%= t('dashboard.work_form.contributors.new.heading') %>
  </h3>
  <button type="button" class="close" data-dismiss="modal" aria-label="<%= t('blacklight.modal.close') %>">
    <span aria-hidden="true"><%= t('modal.close.icon') %></span>
  </button>
</div>

<%= form_with(
      model: @actor,
      url: dashboard_actors_path,
      remote: true,
      data: {
        controller: 'actors',
        action: 'ajax:success->actors#success',
        'actors-redirect' => dashboard_work_form_aliases_new_path
      }
    ) do |form| %>

  <div class="modal-body">

    <%= hidden_field_tag(:work_version_id, params[:work_version_id]) %>

    <% if @actor.errors.any? %>
      <div id="error_explanation">
        <h2><%= t('dashboard.actors.new.error_message', error: pluralize(@actor.errors.count, 'error')) %></h2>

        <ul>
          <% @actor.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="form-wrapper form-wrapper--wide">
      <div class="keyline keyline--left mb-3">
        <h4><%= t 'dashboard.actors.new.required_metadata' %></h4>
      </div>
    </div>

    <div class="form-wrapper">
      <%= render 'form_fields/text', form: form, attribute: :surname, required: true %>
    </div>

    <div class="form-wrapper form-wrapper--wide">
      <div class="keyline keyline--left mb-3">
        <h4><%= t 'dashboard.actors.new.additional_metadata' %></h4>
      </div>
    </div>

    <div class="form-wrapper">
      <%= render 'form_fields/text', form: form, attribute: :given_name %>
      <%= render 'form_fields/text', form: form, attribute: :email %>
      <%= render 'form_fields/text', form: form, attribute: :psu_id %>
    </div>

  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn--rounded" data-dismiss="modal">
      <%= t('dashboard.work_form.contributors.new.cancel') %>
    </button>
    <%= form.submit t('dashboard.actors.new.actions.save'), class: 'btn btn-primary btn--rounded' %>
  </div>
<% end %>
